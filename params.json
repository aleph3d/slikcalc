{"tagline":"javascript calculator library","body":"slikcalc\r\n===\r\n\r\nSlikcalc is a small javascript framework that makes it easy to add dynamic and static mathematical calculations to your html pages.\r\n\r\n\r\n##Setup\r\n\r\nSetting up Slikcalc is super simple, just [download the latest release](https://github.com/selfcontained/slikcalc/tags), and then include slikcalc.min.js on your page.\r\n\r\n```html\r\n<script src=\"/slikcalc.min.js\" type=\"text/javascript\"></script>\r\n```\r\n\r\nAfter that, you're ready to begin with either a ColumnCalc or FormulaCalc, or if you're feeling really smart, a Custom calculator.\r\n\r\n---\r\n\r\n###Column Calculations\r\n\r\nColumn calculators are for when you have a collection of values that you want to apply a mathematical computation to, such as summing them, or multiplying them together. Usage includes creating a new ColumnCalc object, which can take configuration options, and then call the addRow() method for each value you want to add, which can also take configuration options. The total of the calculation is inserted into the field identified by one of the options passed into the constructors configuration.\r\n\r\n###Addition ColumnCalc Example\r\n\r\nThis calculator adds up each row in the column. The second row shows that you can include non-editable \r\nfields that contain plain text. The third row uses a checkbox that controls if the row is included in the total calculation.\r\n\r\n```javascript\r\nvar columnCalc1 = slikcalc.create('column', {\r\n\ttotal: { id: 'cc-1-total' },\r\n\tregisterListeners: true,\r\n\tcalcOnLoad: true\r\n});\r\ncolumnCalc1.addRow({ id: 'cc-1-1' });\r\ncolumnCalc1.addRow({ id: 'cc-1-2' });\r\ncolumnCalc1.addRow({\r\n\tid: 'cc-1-3',\r\n\tcheckbox: { id: 'cc-1-3-c' }\r\n});\r\n```\r\n\r\n###Multiplication ColumnCalc Example\r\n\r\nThis calculator multiplies the rows together. The third row uses a checkbox that has the invert flag set to true, which means that if it is checked, the row is NOT included, and if it is not checked, it IS included in the calculation.\r\n\r\n```javascript\r\nvar columnCalc2 = slikcalc.create('column', {\r\n\ttotal: { id: 'cc-2-total' },\r\n\tregisterListeners: true,\r\n\tcalcOnLoad: true,\r\n\ttotalOperator: '*'\r\n});\r\ncolumnCalc2.addRow({ id: 'cc-2-1' });\r\ncolumnCalc2.addRow({ id: 'cc-2-2' });\r\ncolumnCalc2.addRow({\r\n\tid: 'cc-2-3',\r\n\tcheckbox: {\r\n\t\tid: 'cc-2-3-c',\r\n\t\tinvert: true\r\n\t}\r\n});\r\n```\r\n###ColumnCalc Options\r\n\r\n```javascript\r\nvar columnCalc1 = slikcalc.create('column', {\r\n\ttotal: {\r\n\t\tid: 'totalElementId', //Optional.  Id of the element where the total calculation of a collection of rows will go.\r\n\t\toperator: '+', //Optional, defaults to '+'. Valid values = ( +, -, *, x, / ).  Mathematical operator used to calculate the total of a collection of rows.\r\n\t},\r\n\tregisterListeners: true/false, //Optional, defaults to false.  If true, keyup event listeners will be attached to inputs that will trigger the calculate method.\r\n\tcalcOnLoad: true/false //Optional, defaults to false. Causes calculator to perform its calculate function on the page load event\r\n});\r\n```\r\n\r\n---\r\n\r\n###Formula Calculations\r\n\r\nFormula calcs are more flexible than the Column calcs, and can be used in a few different ways. The concept behind them is that you define a formula as a string, and then plug in different input fields to match up to the variables in your formula.\r\nFor example, at the top of this page are two formula calcs, where one is a formula of ```( a / b ) + c = d```. Each of the inputs is mapped to one of the variables through configuration. One slight variation when passing in the formula strings in the constructor, is you have to wrap your variables in curly braces {}. So the previous formula would look like:\r\n```( {a} / {b} ) + {c} = {d}```.\r\n\r\nFormula calcs can be configured as one set of inputs mapped to the formula, or as a collection of inputs each mapped to the same formula. This is useful if you have a table with multiple rows that each need to calculate the same formula. In this case you can simply pass the configuration for each row, and optionally, an input to store the total of each row of formulas into. This total can be a sum of the formula calculations, or any of the other supported operators ```+ - x * /```. Note that __x__ and __*__ both multiply the values, but are both included for convenience.\r\n\r\n###Simple FormulaCalc Example\r\n\r\nThis is a basic Formula calculator that calculates a / b + c and updates the value into a field. Since there is only one set of fields for calculation, that vars object is passed in the constructor.\r\n\r\n```javascript\r\nvar formulaCalc1 = slikcalc.create('formula', {\r\n\tformula: '( {a} / {b} ) + {c} = {d}',\r\n\tregisterListeners: true,\r\n\tcalcOnLoad: true,\r\n\tvars: {\r\n\t\ta: { id: 'formula-1-1' },\r\n\t\tb: { id: 'formula-1-2', defaultValue: 1 },\r\n\t\tc: { id: 'formula-1-3' },\r\n\t\td: { id: 'formula-1-total' }\r\n\t}\r\n});\r\n```\r\n\r\n###Multi-row FormulaCalc Example\r\n\r\nThis Formula calculator demonstrates using the ability to combine multiple rows of the same formula into one calculator, and have the total of each row summed up into another total. It also shows how you can add a checkbox to control if that row is included in the total.\r\n\r\n```javascript\r\nvar formulaCalc2 = slikcalc.create('formula', {\r\n\tformula: '{a} * {b} = {c}',\r\n\tregisterListeners: true,\r\n\tcalcOnLoad: true,\r\n\ttotal: { id: 'formula-2-total' }\r\n});\r\nformulaCalc2.addRow({\r\n\tvars: {\r\n\t\ta: { id: 'formula-2-1a'},\r\n\t\tb: { id: 'formula-2-1b'},\r\n\t\tc: { id: 'formula-2-1c'}\r\n\t}\r\n});\r\nformulaCalc2.addRow({\r\n\tvars: {\r\n\t\ta: { id: 'formula-2-2a'},\r\n\t\tb: { id: 'formula-2-2b'},\r\n\t\tc: { id: 'formula-2-2c'}\r\n\t},\r\n\tcheckbox: { id: 'formula-2-2-c' }\r\n});\r\n```\r\n\r\n###FormulaCalc Options\r\n\r\n```javascript\r\nvar formulaCalc = slikcalc.create('formula', {\r\n\tformula: '{a} + {b} = {c}', //Required formula string\r\n\tcalcOnLoad: true/false, //Optional, defaults to false. Causes calculator to perform its calculate function on the page load event\r\n\ttotal: {\r\n\t\tid: 'totalElementId', //Optional.  Id of the element where the total calculation of a collection of rows will go.\r\n\t\toperator: '+', //Optional, defaults to '+'. Valid values = ( +, -, *, x, / ).  Mathematical operator used to calculate the total of a collection of rows.\r\n\t},\r\n\tregisterListeners: true/false, //Optional, defaults to false.  If true, keyup event listeners will be attached to inputs that will trigger the calculate method.\r\n\tvars: {\r\n\t\ta: {\r\n\t\t\tid: 'first-value', //This would map the input 'header-2-1' to the variable {a} in the formula string\r\n\t\t\tdefaultValue: 0 //Optional, default is 0. This value is used if there is no value in the mapped input\r\n\t\t },\r\n\t\tb: { id: 'second-value' }, //This would map the input 'header-2-2' to the variable {b} in the formula string\r\n\t\tc: { id: 'row-total'} //This would map the input 'header-2-3' to the variable {c} in the formula string\r\n\t}  //Optional.  If a 'vars' configuration is passed in the constructor, it is treated as if you called addRow and passed it in.  This is for convenience when you have only one set of inputs for you calculation.\r\n});\r\n```\r\n\r\n---\r\n\r\n###Chaining Calculators\r\n\r\nSometimes you may have a collection of calculators that must fire in a particular order for everything to calculate correctly. Slikcalc takes this into consideration and provides a very simple interface for controlling this. This is handled with two methods, ```triggers()``` and ```dependsOn()```. If we have a \"calculateOne\" calc object that should trigger the calculation of \"calculatorTwo\" object, we can set this up as follows:\r\n\r\n```javascript\r\ncalculatorOne.triggers(calculatorTwo);\r\n```\r\n\r\nThis same behavior can be created by describing it in reverse using the dependsOn() method\r\n\r\n```javascript\r\ncalculatorTwo.dependsOn(calculatorOne);\r\n```\r\n\r\n\r\nThis allows you to write your calculator objects in small, contained objects, and then chain them together as needed due to a fluent interface.  For example, if we have three calculator objects, calc1, calc2, an calc3, and they need to fire eachother in that order, we can accomplish this as follows:\r\n\r\n```javascript\r\ncalc1.triggers(calc2).triggers(calc3);\r\n```\r\n\r\n###Custom Calculations\r\n\r\nCustom calculators are exactly what they sound like, completely custom, and they can do anything you want them to. All that is required is that you create your own class, extend slikcalc.BaseCalc using slikcalc.extend(), and then implement a calculate method in your class. The rest is up to you! I'll post some examples of custom calculators soon.\r\n\r\n```javascript\r\nslikcalc.MyCustomCalc = function (config) {\r\n\tthis.parent.constructor.call(this, config);\r\n};\r\nslikcalc.extend(slikcalc.MyCustomCalc, slikcalc.BaseCalc);\r\nslikcalc.MyCustomCalc.prototype.calculate = function() {\r\n\t//your code here\r\n};\r\n```\r\n\r\n---\r\n\r\n###Decimal Precision\r\n\r\nThe default precision for slikcalc is 2.  Currently you can adjust the decimal precision for slikcalc at a global level.  Just set it somewhere before your calculations run.\r\n\r\n```javascript\r\nslikcalc.precision = 3;\r\n```","google":"UA-254292-13","note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Slikcalc"}
